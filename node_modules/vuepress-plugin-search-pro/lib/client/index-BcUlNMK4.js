import{values as u}from"@vuepress/helper/client";import{inject as S,computed as d}from"vue";import{useRouteLocale as g}from"vuepress/client";const l=SEARCH_PRO_OPTIONS,m=SEARCH_PRO_ENABLE_AUTO_SUGGESTIONS,p=SEARCH_PRO_CUSTOM_FIELDS,h=l.hotKeys,P=SEARCH_PRO_LOCALES,i="Canceled because of new search request.",w=()=>{const r=new Worker(__VUEPRESS_DEV__?new URL("./worker/index.js",import.meta.url):`${__VUEPRESS_BASE__}${l.worker}`,__VUEPRESS_DEV__?{type:"module"}:{}),s={suggest:null,search:null,all:null};return r.addEventListener("message",({data:e})=>{const[a,n,c]=e,o=s[a];o?.id===n&&o.resolve(c)}),r.addEventListener("error",e=>{console.error("Search Worker error:",e)}),{suggest:(e,a,n)=>new Promise((c,o)=>{s.suggest?.reject(new Error(i));const t=Date.now();r.postMessage({type:"suggest",id:t,query:e,locale:a,options:n}),s.suggest={id:t,resolve:c,reject:o}}),search:(e,a,n)=>new Promise((c,o)=>{s.search?.reject(new Error(i));const t=Date.now();r.postMessage({type:"search",id:t,query:e,locale:a,options:n}),console.log("post"),s.search={id:t,resolve:c,reject:o}}),all:(e,a,n)=>new Promise((c,o)=>{s.all?.reject(new Error(i));const t=Date.now();r.postMessage({type:"all",id:t,query:e,locale:a,options:n}),s.all={id:t,resolve:c,reject:o}}),terminate:()=>{r.terminate(),u(s).forEach(e=>{e?.reject(new Error("Worker has been terminated."))})}}};let _={};const E=Symbol(__VUEPRESS_DEV__?"slimsearch":""),R=r=>{_=r},C=()=>{const r=g(),{locales:s={},...e}=S(E);return d(()=>({...e,...s[r.value]||{}}))},O=r=>{r.provide(E,_)};export{P as a,p as b,w as c,h as d,m as e,R as f,O as i,l as s,C as u};
//# sourceMappingURL=index-BcUlNMK4.js.map
